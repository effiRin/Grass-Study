## **[면접 질문 공부 1]**

<br>

출처 : 

[https://bsnippet.tistory.com/13](https://bsnippet.tistory.com/13)

[https://m.blog.naver.com/jhc9639/220967034588](https://m.blog.naver.com/jhc9639/220967034588)

[https://jaimemin.tistory.com/1815?category=1060172](https://jaimemin.tistory.com/1815?category=1060172)

<br>

이 글은 위의 블로그들을 요약했습니다.

<br>
<br>

# MVC 패턴

### MVC 패턴은 디자인 패턴 중 하나이다.

- **디자인 패턴**이란? 
프로그램이나 어떤 특정한 것을 개발하던 중 발생했던 **문제점**을 정리해서 상황에 따라 간편하게 쓸 수 있는 것을 특정한 **규약**을 통해 쉽게 쓸 수 있는 형태로 만든 것

<br>

### **MVC Pattern 이전**

- **사용자의 요청을 서블릿이나 JSP가 전부 다 처리했다. (Controller의 부재)

[문제점]**
    - 웹브라우저 사용자의 요청을 받은 서블릿이나 JSP는 비즈니스 로직을 처리하고 뷰 렌더링까지 처리했다. 
    **(→ 로직과 뷰가 같이 있다는 점이 큰 문제점)**
    - JSP 내 렌더링 될 HTML 코드, 자바 코드, 데이터를 조회하는 레포지토리 등 **너무나 많은 역할을 하기 때문에 유지보수하기 힘듦 
    (**→ 분리가 안되어있기 때문에 **유지 보수하기가 매우 힘듦**)

<br>

### MVC - Model, View, Controller

- 하나의 어플리케이션, 프로젝트를 구성할 때 그 구성요소를 3가지 역할로 구분하는 패턴이다.

1. 사용자가 controller를 조작하면, **Controller는** HTTP 요청을 받아 파라미터를 검증하고, **비즈니스 로직을 실행한다.**
2. **그리고 View에 전달할 데이터를 Model에 담아서 데이터를 가져온다.** 
3. **이후 데이터를 바탕으로 시각적인 표현을 담당하는 View를 제어하여 Model에 담겨있는 데이터를 사용하여 사용자의 화면에 전달한다.**
(→ 뷰는 모델에 담겨있는 데이터를 사용해서 화면을 렌더링함. 즉, 모델 덕분에 비즈니스 로직을 몰라도 데이터를 활용 가능**)**

<br>

- **Model 1, Model 2**
    - *비즈니스 로직을 Controller 내에서 실행하는 방식이 Model 1 방식*
    - *비즈니스 로직을 별도 계층인 Service 계층에서 실행하고 Controller가 Service 계층을 호출하는 방식이 Model 2 방식*


### 모델(Model)

- **데이터를 가진 객체**를 모델이라 지칭한다. 
(어플리케이션의 정보, 데이터를 나타낸다. 데이터베이스, 상수, 초기화값, 변수 등, 이러한 DATA와 정보들의 가공을 책임지는 컴포넌트를 말한다.)

- **모델은 다음 규칙을 가지고 있다.**

**1) 사용자가 편집하길 원하는 모든 데이터를 가지고 있어야 한다.**
(예 : 화면 안의 네모박스에 글자가 표현된다면, 네모박스의 화면 위치 정보, 크기 정보, 글자 내용, 위치, 포맷 정보 등을 가지고 있어야 한다.)

**2) 뷰나 컨트롤러에 대해서 어떤 정보도 알지 말아야 한다.**
(데이터 변경이 일어났을 때 모델에서 화면 UI를 직접 조정해서 수정할 수 있도록 뷰를 참조하는 내부 속성값을 가지면 안 된다.)

**3) 변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야만 한다.**
(모델의 속성 중 어떤 정보가 변경되면, 이벤트를 발생시켜 누군가에게 전달해야 하고, 누군가 모델을 변경하도록 요청하는 이벤트를 보냈을 때 이를 수신할 수 있는 처리 방법을 구현해야 한다. 또한 모델은 재사용 가능해야하며, 다른 인터페이스에서도 변치 않아야 한다.)

<br>

### **뷰(View)**

- **데이터를 기반으로 사용자들이 볼 수 있는 화면이다. (데이터 및 객체의 입력, 이를 보여주는 출력을 담당)**

화면에 표시되는 글자, 체크박스, 윈도우와 같은 UI라는 시각적 요소를 지칭한다. 

- **뷰(View)의 규칙**

**1) 모델이 가지고 있는 정보를 따로 저장해서는 안된다.**

화면에 글자를 표시하기 위해, 모델 정보를 전달 받게 될텐데, 그 정보를 유지하기 위해서 임의로 뷰 내부에 저장하면 안된다는 말. (단순히 네모 박스를 그리라는 명령을 받으면, 화면에 표시하기만 하고, 그 화면을 그릴때 필요한 정보들은 저장하지 않는다)

**2) 모델이나 컨트롤러과 같이 다른 구성 요소를 몰라야 된다.**

모델과 같이 자기 자신을 빼고는 다른 요소는 참조하거나 어떻게 동작하는지 알아서는 안된다. 그냥 뷰는 데이터를 받으면, 화면에 표시해주는 역할만 가진다고 보면 된다.

**3) 변경이 일어나면, 변경 통지에 대한 처리 방법을 구현해야만 한다.**

모델과 같이 변경이 일어났을때 이에 누군가에게 변경을 알려줘야하는 방법을 구현해야 한다. 뷰에서는 화면에서 사용자가 화면에 표시된 내용을 변경하게 되면 이를 모델에게 전달해서, 모델을 변경해야 할 것이다. 그 작업을 하기 위해 변경 통지를 구현한다.

(→ 모델이나 뷰에서 변경이 일어났을 때, 이를 컨트럴에게 알리고, 컨트롤러는 어떻게 처리할지 결정해 다시 다른 구성 요소에서 변경을 알려주는 **중재자 같은 역할**을 하기 때문에 변경 통지 관련 처리 방법을 구현하는 것)

<br>

### 컨트롤러 (Controller)

- **모델과 뷰를 연결해 주는 역할로, 주로 비즈니스 로직이 컨트롤러에 구현되어 있다.**

- **컨트롤러의 규칙**
1. **모델이나 뷰에 대해서 알고 있어야 한다.**

모델이나 뷰는 서로의 존재를 모르고, 변경을 외부로 알리고, 수신하는 방법만 가지고 있는데, 컨트롤러가 모델과 뷰를 중재하기 때문에 모델과 그에 관련된 뷰에 대해서 알고 있어야 한다.

**2) 모델이나 뷰의 변경을 모니터링 해야 한다.**

모델이나 뷰의 변경을 통지 받으면, 이를 해석해서 각각의 구성 요소에게 통지를 해야 하는 것입니다.

<br>


### **MVC 패턴을 사용하는 이유**

어떤 특정한 역할들에 대해 **역할분담을 할 때 가이드라인을 제시**하는 방법 중 하나가 MVC 패턴이다.

사용자가 보는 페이지, 데이터처리, 그리고 이 2가지를 중간에서 제어하는 컨트롤과 함께 이 3가지로 구성되는 하나의 애플리케이션을 만들면 **각각 맡은바에만 집중을 할 수 있게 된다.**

서로 분리되어 각자의 역할에 집중할 수 있게끔하여 어플리케이션을 개발한다면, **유지보수성, 애플리케이션의 확장성, 그리고 유연성이 증가하고, 중복코딩이라는 문제점 또한 사라지게 된다.**

(+ 유연성 : 클라이언트의 새로운 요구 사항에 대해 최소한의 비용으로 유연하게 대처할 수 있음을 뜻함)

<br>


### **Servlet, JSP를 통한 MVC Pattern의 한계점**

- 뷰 렌더링과 컨트롤러 역할을 분리한 건 좋지만 **페이지가 늘어남에 따라 컨트롤러 내 중복 코드 다량 발생**
(View로 이동하는 Forward 코드 중복 / View 주소 즉, ViewPath 설정하는 코드 중복)
- 별도 응답을 보낼 필요가 없는 경우 서블릿 내 response 코드가 사용되지 않음
- HttpServletRequest, HttpServletResponse를 사용하는 테스트 코드 작성하기 쉽지 않음

**→ 공통 처리가 어려운 것이 문제 (이를 해결하기 위해 Front Controller 패턴 도입)**

<br>
